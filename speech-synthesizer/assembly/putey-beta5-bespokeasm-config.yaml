---
description: Putey Beta 5 Breadboard Computer
general:
  min_version: 0.3.2
  address_size: 16
  endian: little
  registers:
    - a
    - f
    - i
    - j
    - mar
    - sp
    - hl
    - h
    - l
  identifier:
    name: putey-1-beta
    version: "0.5.0"
predefined:
  constants:
    - name: ZF
      value: 1
    - name: CF
      value: 2
    - name: OF
      value: 4
    - name: EF
      value: 8
operand_sets:
  8_bit_source:
    operand_values:
      a_register:
        type: register
        register: a
        bytecode:
          value: 0
          size: 3
      flags_register:
        type: register
        register: f
        bytecode:
          value: 1
          size: 3
      i_register:
        type: register
        register: i
        bytecode:
          value: 2
          size: 3
      j_register:
        type: register
        register: j
        bytecode:
          value: 3
          size: 3
      indirect_hl_register:
        type: indirect_register
        register: hl
        bytecode:
          value: 4
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      stack_pointer:
        type: indirect_register
        register: sp
        bytecode:
          value: 5
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      indirect_addr:
        type: indirect_numeric
        bytecode:
          value: 6
          size: 3
        argument:
          size: 16
          byte_align: true
      immediate_value:
        type: numeric
        bytecode:
          value: 7
          size: 3
        argument:
          size: 8
          byte_align: true
  8_bit_destination:
    operand_values:
      a_register:
        type: register
        register: a
        bytecode:
          value: 0
          size: 3
      i_register:
        type: register
        register: i
        bytecode:
          value: 2
          size: 3
      j_register:
        type: register
        register: j
        bytecode:
          value: 3
          size: 3
      indirect_hl_register:
        type: indirect_register
        register: hl
        bytecode:
          value: 4
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      stack_pointer:
        type: indirect_register
        register: sp
        bytecode:
          value: 5
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      indirect_addr:
        type: indirect_numeric
        bytecode:
          value: 6
          size: 3
        argument:
          size: 16
          byte_align: true
  16_bit_source:
    operand_values:
      hl_register:
        type: register
        register: hl
        bytecode:
          value: 0
          size: 3
      indirect_hl_register:
        type: indirect_register
        register: hl
        bytecode:
          value: 1
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      mar_register:
        type: register
        register: mar
        bytecode:
          value: 2
          size: 3
      indirect_mar_register:
        type: indirect_register
        register: mar
        bytecode:
          value: 3
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      stack_pointer:
        type: indirect_register
        register: sp
        bytecode:
          value: 5
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      indirect_addr:
        type: indirect_numeric
        bytecode:
          value: 6
          size: 3
        argument:
          size: 16
          byte_align: true
      immediate_value:
        type: numeric
        bytecode:
          value: 7
          size: 3
        argument:
          size: 16
          byte_align: true
  16_bit_destination:
    operand_values:
      hl_register:
        type: register
        register: hl
        bytecode:
          value: 0
          size: 3
      indirect_hl_register:
        type: indirect_register
        register: hl
        bytecode:
          value: 1
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      mar_register:
        type: register
        register: mar
        bytecode:
          value: 2
          size: 3
      indirect_mar_register:
        type: indirect_register
        register: mar
        bytecode:
          value: 3
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      stack_pointer:
        type: indirect_register
        register: sp
        bytecode:
          value: 5
          size: 3
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      indirect_addr:
        type: indirect_numeric
        bytecode:
          value: 6
          size: 3
        argument:
          size: 16
          byte_align: true
  address_source:
    operand_values:
      indirect_addr:
        type: indirect_numeric
        bytecode:
          value: 2
          size: 2
        argument:
          size: 16
          byte_align: true
      immediate_value:
        type: numeric
        bytecode:
          value: 3
          size: 2
        argument:
          size: 16
          byte_align: true
  incrementable_destination:
    operand_values:
      i_register:
        type: register
        register: i
        bytecode:
          value: 0
          size: 2
      j_register:
        type: register
        register: j
        bytecode:
          value: 1
          size: 2
      hl_register:
        type: register
        register: hl
        bytecode:
          value: 2
          size: 2
      mar_register:
        type: register
        register: mar
        bytecode:
          value: 3
          size: 2
  hl_subregisters:
    operand_values:
      subregister_h:
        type: register
        register: h
        bytecode:
          value: 1
          size: 1
      subregister_l:
        type: register
        register: l
        bytecode:
          value: 0
          size: 1
  hl_indirect_indexed:
    operand_values:
      register_hl:
        type: indirect_indexed_register
        register: hl
        bytecode:
          value: 0
          size: 0
        index_operands:
          register_a:
            type: register
            register: a
            bytecode:
              value: 0
              size: 2
          register_i:
            type: register
            register: i
            bytecode:
              value: 1
              size: 2
          register_j:
            type: register
            register: j
            bytecode:
              value: 2
              size: 2
          indirect_sp:
            type: indirect_register
            register: sp
            bytecode:
              value: 3
              size: 2
            offset:
              max: 255
              min: 0
              size: 8
              byte_align: true
  hl_indexed:
    operand_values:
      register_hl:
        type: indexed_register
        register: hl
        bytecode:
          value: 0
          size: 0
        index_operands:
          register_a:
            type: register
            register: a
            bytecode:
              value: 0
              size: 2
          register_i:
            type: register
            register: i
            bytecode:
              value: 1
              size: 2
          register_j:
            type: register
            register: j
            bytecode:
              value: 2
              size: 2
          indirect_sp:
            type: indirect_register
            register: sp
            bytecode:
              value: 3
              size: 2
            offset:
              max: 255
              min: 0
              size: 8
              byte_align: true
  bit_number:
    operand_values:
      bit_number:
        type: numeric_enumeration
        argument:
          size: 8
          byte_align: true
          value_dict:
            0: 0
            1: 1
            2: 2
            3: 3
            4: 4
            5: 5
            6: 6
            7: 7
  macro_indirect_registers:
    operand_values:
      indirect_hl_register:
        type: indirect_register
        register: hl
        bytecode:
          value: 0
          size: 0
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true
      stack_pointer:
        type: indirect_register
        register: sp
        bytecode:
          value: 1
          size: 0
        offset:
          max: 255
          min: 0
          size: 8
          byte_align: true  
instructions:
  # general
  nop:
    bytecode:
      value: 0
      size: 8
  hlt:
    bytecode:
      value: 1
      size: 8
  # stack operations
  call:
    bytecode:
      value: 0
      size: 5
    operands:
      count: 1
      specific_operands:
        immediate_addr:
          list:
            addr:
              type: numeric
              bytecode:
                value: 3
                size: 3
              argument:
                size: 16
                byte_align: true
        direct_mar:
          list:
            mar:
              type: register
              register: mar
              bytecode:
                value: 4
                size: 3
  ret:
    bytecode:
      value: 6
      size: 8
  rsp:
    bytecode:
      value: 7
      size: 8
  push:
    bytecode:
      value: 1
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
    variants:
      - bytecode:
          value: 6
          size: 4
        operands:
          count: 1
          specific_operands:
            register_l:
              list:
                l:
                  type: register
                  register: l
                  bytecode:
                    value: 4
                    size: 4
            register_h:
              list:
                h:
                  type: register
                  register: h
                  bytecode:
                    value: 12
                    size: 4
      - bytecode:
          value: 16327
          size: 14
          endian: big
        operands:
          count: 1
          operand_sets:
            list:
              - hl_indirect_indexed
  push2:
    bytecode:
      value: 0b00010
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 16_bit_source
    variants:
      - bytecode:
          value: 16350
          size: 14
          endian: big
        operands:
          count: 1
          operand_sets:
            list:
              - hl_indirect_indexed
  pop:
    bytecode:
      value: 3
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_destination
      specific_operands:
        no_operand:
          list:
            empty_op:
              type: empty
              bytecode:
                value: 7
                size: 3
    variants:
      - bytecode:
          value: 60
          size: 7
        operands:
          count: 1
          specific_operands:
            register_l:
              list:
                l:
                  type: register
                  register: l
                  bytecode:
                    value: 0
                    size: 1
            register_h:
              list:
                h:
                  type: register
                  register: h
                  bytecode:
                    value: 1
                    size: 1
      - bytecode:
          value: 16321
          size: 14
          endian: big
        operands:
          count: 1
          operand_sets:
            list:
              - hl_indirect_indexed
  pop2:
    bytecode:
      value: 0b00100
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 16_bit_destination
      specific_operands:
        no_operand:
          list:
            empty_op:
              type: empty
              bytecode:
                value: 0b111
                size: 3
    variants:
      - bytecode:
          value: 16351
          size: 14
          endian: big
        operands:
          count: 1
          operand_sets:
            list:
              - hl_indirect_indexed
  pushr:
    # pushes A, I, J, and HL registers onto stack for later restoration
    # Takes up 5 bytes of stack
    bytecode:
      value: 44
      size: 8    
  popr:
    # pops 5 bytes of stack into the A, I, J, and HL regsiters. Complements
    # the pushr instruction.
    bytecode:
      value: 45
      size: 8 
  # branching
  jmp:
    variants:
      - bytecode:
          value: 19
          size: 6
        operands:
          count: 1
          operand_sets:
            list:
              - address_source
      - bytecode:
          value: 18
          size: 6
        operands:
          count: 1
          operand_sets:
            list:
              - hl_indexed
  jc:
    bytecode:
      value: 12
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - address_source
  jz:
    bytecode:
      value: 13
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - address_source
  jnz:
    bytecode:
      value: 14
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - address_source
  jo:
    bytecode:
      value: 15
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - address_source
  je:
    bytecode:
      value: 16
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - address_source
  jne:
    bytecode:
      value: 17
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - address_source
  # data movement
  mov:
    bytecode:
      value: 2
      size: 2
    operands:
      count: 2
      operand_sets:
        list:
          - 8_bit_destination
          - 8_bit_source
        disallowed_pairs:
          - [a_register, a_register]
          - [i_register, i_register]
          - [j_register, j_register]
          - [stack_pointer, stack_pointer]
          - [stack_pointer, indirect_addr]
      specific_operands:
        a_mar:
          list:
            a:
              type: register
              register: a
              bytecode:
                value: 0
                size: 3
            mar:
              type: indirect_register
              register: mar
              bytecode:
                value: 0
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
        i_mar:
          list:
            a:
              type: register
              register: i
              bytecode:
                value: 0b010
                size: 3
            mar:
              type: indirect_register
              register: mar
              bytecode:
                value: 0b010
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
        j_mar:
          list:
            a:
              type: register
              register: j
              bytecode:
                value: 0b011
                size: 3
            mar:
              type: indirect_register
              register: mar
              bytecode:
                value: 0b011
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
        sp_hl:
          reverse_argument_order: true
          list:
            stack_pointer:
              type: indirect_register
              register: sp
              bytecode:
                value: 5
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
            hl_register:
              type: indirect_register
              register: hl
              bytecode:
                value: 4
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
        sp1_sp2:
          reverse_argument_order: true
          list:
            stack_pointer1:
              type: indirect_register
              register: sp
              bytecode:
                value: 5
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
            stack_pointer2:
              type: indirect_register
              register: sp
              bytecode:
                value: 5
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
        sp_iaddr:
          reverse_argument_order: true
          list:
            stack_pointer:
              type: indirect_register
              register: sp
              bytecode:
                value: 5
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
            indirect_addr:
              type: indirect_numeric
              bytecode:
                value: 6
                size: 3
              argument:
                size: 16
                byte_align: true
        iaddr1_iaddr2:
          reverse_argument_order: true
          list:
            indirect_addr1:
              type: indirect_numeric
              bytecode:
                value: 6
                size: 3
              argument:
                size: 16
                byte_align: true
            indirect_addr2:
              type: indirect_numeric
              bytecode:
                value: 6
                size: 3
              argument:
                size: 16
                byte_align: true
        indirect_hl_register1_indirect_hl_register2:
          reverse_argument_order: true
          list:
            indirect_hl_register1:
              type: indirect_register
              register: hl
              bytecode:
                value: 4
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
            indirect_hl_register2:
              type: indirect_register
              register: hl
              bytecode:
                value: 4
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
        indirect_hl_register_sp:
          reverse_argument_order: true
          list:
            indirect_hl_register:
              type: indirect_register
              register: hl
              bytecode:
                value: 4
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
            stack_pointer:
              type: indirect_register
              register: sp
              bytecode:
                value: 5
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
        indirect_hl_register_iaddr:
          reverse_argument_order: true
          list:
            indirect_hl_register:
              type: indirect_register
              register: hl
              bytecode:
                value: 4
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
            indirect_addr:
              type: indirect_numeric
              bytecode:
                value: 6
                size: 3
              argument:
                size: 16
                byte_align: true
        indirect_hl_register_mar:
          reverse_argument_order: true
          list:
            indirect_hl_register:
              type: indirect_register
              register: hl
              bytecode:
                value: 1
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
            indirect_mar:
              type: indirect_register
              register: mar
              bytecode:
                value: 0
                size: 3
              offset:
                max: 255
                min: 0
                size: 8
                byte_align: true
    variants:
      - bytecode:
          value: 6
          size: 4
        operands:
          count: 2
          operand_sets:
            list:
              - hl_subregisters
              - 8_bit_source
            disallowed_pairs:
              - [subregister_l, indirect_hl_register]
              - [subregister_h, indirect_hl_register]
      - bytecode:
          value: 7
          size: 4
        operands:
          count: 2
          operand_sets:
            list:
              - 8_bit_destination
              - hl_subregisters
            disallowed_pairs:
              - [indirect_hl_register, subregister_l]
              - [indirect_hl_register, subregister_h]
          specific_operands:
            l_h:
              list:
                subregister_l:
                  type: register
                  register: l
                  bytecode:
                    value: 7
                    size: 3
                subregister_h:
                  type: register
                  register: h
                  bytecode:
                    value: 1
                    size: 1
            h_l:
              list:
                subregister_h:
                  type: register
                  register: h
                  bytecode:
                    value: 7
                    size: 3
                subregister_l:
                  type: register
                  register: l
                  bytecode:
                    value: 0
                    size: 1
      - bytecode:
          value: 2040
          size: 11
          endian: big
        operands:
          count: 2
          operand_sets:
            reverse_argument_order: true
            list:
              - 8_bit_destination
              - hl_indirect_indexed
      - bytecode:
          value: 2045
          size: 11
          endian: big
        operands:
          count: 2
          operand_sets:
            reverse_argument_order: true
            list:
              - hl_indirect_indexed
              - 8_bit_source
  mov2:
    bytecode:
      value: 1021
      size: 10
      endian: big
    operands:
      count: 2
      operand_sets:
        list:
          - 16_bit_destination
          - 16_bit_source
        disallowed_pairs:
          - [hl_register, hl_register]
          - [hl_register, indirect_hl_register]
          - [indirect_hl_register, hl_register]
          - [indirect_hl_register, indirect_hl_register]
          - [indirect_hl_register, indirect_mar_register]
          - [indirect_hl_register, stack_pointer]
          - [mar_register, mar_register]
          - [indirect_mar_register, indirect_hl_register]
          - [indirect_mar_register, mar_register]
          - [indirect_mar_register, indirect_mar_register]
          - [indirect_mar_register, stack_pointer]
          - [indirect_mar_register, indirect_addr]
          - [stack_pointer, indirect_hl_register]
          - [stack_pointer, stack_pointer]
          - [indirect_addr, indirect_hl_register]
          - [indirect_addr, mar]
          - [indirect_addr, indirect_mar_register]
          - [indirect_addr, stack_pointer]
          - [indirect_addr, indirect_addr]
    variants:
      - bytecode:
          value: 40
          size: 8
        operands:
          count: 2
          specific_operands:
            iaddr1_iaddr2:
              reverse_argument_order: true
              list:
                indirect_addr1:
                  type: indirect_numeric
                  bytecode:
                    value: 0
                    size: 0
                  argument:
                    size: 16
                    byte_align: true
                indirect_addr2:
                  type: indirect_numeric
                  bytecode:
                    value: 0
                    size: 0
                  argument:
                    size: 16
                    byte_align: true
      - bytecode:
          value: 41
          size: 8
        operands:
          count: 2
          specific_operands:
            stack_pointer1_stack_pointer2:
              reverse_argument_order: true
              list:
                stack_pointer:
                  type: indirect_register
                  register: sp
                  bytecode:
                    value: 0
                    size: 0
                  offset:
                    max: 255
                    min: 0
                    size: 8
                    byte_align: true
                stack_pointer2:
                  type: indirect_register
                  register: sp
                  bytecode:
                    value: 0
                    size: 0
                  offset:
                    max: 255
                    min: 0
                    size: 8
                    byte_align: true
      - bytecode:
          value: 42
          size: 8
        operands:
          count: 2
          specific_operands:
            stack_pointer_indirect_hl:
              reverse_argument_order: true
              list:
                stack_pointer:
                  type: indirect_register
                  register: sp
                  bytecode:
                    value: 0
                    size: 0
                  offset:
                    max: 255
                    min: 0
                    size: 8
                    byte_align: true
                indirect_hl:
                  type: indirect_register
                  register: hl
                  bytecode:
                    value: 0
                    size: 0
                  offset:
                    max: 255
                    min: 0
                    size: 8
                    byte_align: true
      - bytecode:
          value: 43
          size: 8
        operands:
          count: 2
          specific_operands:
            indirect_hl_stack_pointer:
              reverse_argument_order: true
              list:
                indirect_hl:
                  type: indirect_register
                  register: hl
                  bytecode:
                    value: 0
                    size: 0
                  offset:
                    max: 255
                    min: 0
                    size: 8
                    byte_align: true
                stack_pointer:
                  type: indirect_register
                  register: sp
                  bytecode:
                    value: 0
                    size: 0
                  offset:
                    max: 255
                    min: 0
                    size: 8
                    byte_align: true
  # arithmetic operations
  add:
    bytecode:
      value: 23
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
  addc:
    bytecode:
      value: 24
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
  sub:
    bytecode:
      value: 25
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
  subb:
    bytecode:
      value: 26
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
  inc:
    bytecode:
      value: 54
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - incrementable_destination
  dec:
    bytecode:
      value: 55
      size: 6
    operands:
      count: 1
      operand_sets:
        list:
          - incrementable_destination
  and:
    bytecode:
      value: 28
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
        disallowed_pairs:
          - [a_register]
  or:
    bytecode:
      value: 29
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
        disallowed_pairs:
          - [a_register]
  xor:
    bytecode:
      value: 30
      size: 5
    operands:
      count: 1
      operand_sets:
        list:
          - 8_bit_source
        disallowed_pairs:
          - [a_register]
  lsr:
    bytecode:
      value: 248
      size: 8
  lsrc:
    # 9-bit rotate right (including carry)
    bytecode:
      value: 249
      size: 8
  lsl:
    bytecode:
      value: 250
      size: 8
  lslc:
    # 9-bit rotate left (including carry)
    bytecode:
      value: 251
      size: 8
  rotr:
    # 8-bit rotate right (without carry)
    bytecode:
      value: 252
      size: 8
  rotl:
    # 8-bit rotate left (without carry)
    bytecode:
      value: 253
      size: 8
  rot4:
    bytecode:
      value: 254
      size: 8
  lsr4:
    bytecode:
      value: 224
      size: 8
  lsl4:
    bytecode:
      value: 232
      size: 8
  # test and comparison
  tstb:
    variants:
      - bytecode:
          value: 10
          size: 5
        operands:
          count: 2
          operand_sets:
            list:
              - 8_bit_source
              - bit_number
      - bytecode:
          value: 22
          size: 6
        operands:
          count: 2
          operand_sets:
            list:
              - hl_indirect_indexed
              - bit_number
      - bytecode:
          value: 46
          size: 7
        operands:
          count: 2
          operand_sets:
            list:
              - hl_subregisters
              - bit_number
  cmp:
    bytecode:
      value: 1023
      size: 10
      endian: big
    operands:
      count: 2
      operand_sets:
        list:
          - 8_bit_source
          - 8_bit_source
        disallowed_pairs:
          - [a_register, a_register]
          - [flags_register, flags_register]
          - [i_register, i_register]
          - [j_register, j_register]
          - [immediate_value, immediate_value]
    variants:
      - bytecode:
          value: 2044
          size: 11
          endian: big
        operands:
          count: 2
          operand_sets:
            list:
              - hl_indirect_indexed
              - 8_bit_source
macros:
  push4:
    - operands:
        count: 1
        specific_operands:
          immediate:
            list:
              uint16:
                type: numeric
                argument:
                  size: 16
                  byte_align: true
      instructions:
        - "push2 ((@ARG(0)) >> 16)"
        - "push2 ((@ARG(0)) & 0x0000FFFF)"
    - operands:
        count: 1
        specific_operands:
          indirect_addr:
            list:
              iaddr:
                type: indirect_numeric
                argument:
                  size: 16
                  byte_align: true
      instructions:
        - "push2 [@ARG(0)+2]"
        - "push2 [@ARG(0)]"
    - operands:
        count: 1
        specific_operands:
          stack_pointer:
            list:
              sp:
                type: indirect_register
                register: sp
                bytecode:
                  value: 5
                  size: 3
                offset:
                  max: 255
                  min: 0
                  size: 8
                  byte_align: true
      instructions:
        - "push2 [@REG(0) + ((@ARG(0))+2+0)]"
        - "push2 [@REG(0) + ((@ARG(0))+0+2)]"
  push8:
    - operands:
        count: 1
        specific_operands:
          immediate:
            list:
              uint16:
                type: numeric
                argument:
                  size: 16
                  byte_align: true
      instructions:
        - "push2 ((@ARG(0)) >> 48) & 0xFFFF"
        - "push2 ((@ARG(0)) >> 32) & 0xFFFF"
        - "push2 ((@ARG(0)) >> 16) & 0xFFFF"
        - "push2 ((@ARG(0)) & 0xFFFF)"
    - operands:
        count: 1
        specific_operands:
          indirect_addr:
            list:
              iaddr:
                type: indirect_numeric
                argument:
                  size: 16
                  byte_align: true
      instructions:
        - "push2 [@ARG(0)+6]"
        - "push2 [@ARG(0)+4]"
        - "push2 [@ARG(0)+2]"
        - "push2 [@ARG(0)]"
    - operands:
        count: 1
        specific_operands:
          stack_pointer:
            list:
              sp:
                type: indirect_register
                register: sp
                bytecode:
                  value: 5
                  size: 3
                offset:
                  max: 255
                  min: 0
                  size: 8
                  byte_align: true
      instructions:
        - "push2 [@REG(0) + ((@ARG(0))+6+0)]"
        - "push2 [@REG(0) + ((@ARG(0))+4+2)]"
        - "push2 [@REG(0) + ((@ARG(0))+2+4)]"
        - "push2 [@REG(0) + ((@ARG(0))+0+6)]"
  pop4:
    - operands:
        count: 1
        specific_operands:
          indirect_addr:
            list:
              iaddr:
                type: indirect_numeric
                argument:
                  size: 16
                  byte_align: true
      instructions:
        - "pop2 [@ARG(0)]"
        - "pop2 [(0@ARG(0)) + 2]"
    - operands:
        count: 1
        specific_operands:
          stack_pointer:
            list:
              sp:
                type: indirect_register
                register: sp
                bytecode:
                  value: 5
                  size: 3
                offset:
                  max: 255
                  min: 0
                  size: 8
                  byte_align: true
      instructions:
        - "pop2 [@REG(0) + @ARG(0)]"
        - "pop2 [@REG(0) + @ARG(0)]"
    - instructions:
        - "pop2"
        - "pop2"
  pop8:
    - operands:
        count: 1
        specific_operands:
          indirect_addr:
            list:
              iaddr:
                type: indirect_numeric
                argument:
                  size: 16
                  byte_align: true
      instructions:
        - "pop2 [@ARG(0)]"
        - "pop2 [(@ARG(0)) + 2]"
        - "pop2 [(@ARG(0)) + 4]"
        - "pop2 [(@ARG(0)) + 6]"
    - operands:
        count: 1
        specific_operands:
          stack_pointer:
            list:
              sp:
                type: indirect_register
                register: sp
                bytecode:
                  value: 5
                  size: 3
                offset:
                  max: 255
                  min: 0
                  size: 8
                  byte_align: true
      instructions:
        - "pop2 [@REG(0) + @ARG(0)]"
        - "pop2 [@REG(0) + @ARG(0)]"
        - "pop2 [@REG(0) + @ARG(0)]"
        - "pop2 [@REG(0) + @ARG(0)]"
    - instructions:
        - "pop2"
        - "pop2"
        - "pop2"
        - "pop2"
  mov4:
    - operands:
        count: 2
        specific_operands:
          indirect_addr_immediate:
            list:
              iaddr:
                type: indirect_numeric
                argument:
                  size: 16
                  byte_align: true
              uint32:
                type: numeric
                argument:
                  size: 32
                  byte_align: true
      instructions:
        - "mov2 [@ARG(0)],((@ARG(1)&0xFFFF))"
        - "mov2 [@ARG(0)+2],((@ARG(1)&0xFFFF0000) >> 16)"
    - operands:
        count: 2
        operand_sets:
          list:
            - macro_indirect_registers
            - macro_indirect_registers
      instructions:
        - "mov2 [@REG(0)+(@ARG(0))+0],[@REG(1)+(@ARG(1))+0]"
        - "mov2 [@REG(0)+(@ARG(0))+2],[@REG(1)+(@ARG(1))+2]"
  mov8:
    - operands:
        count: 2
        specific_operands:
          indirect_addr_immediate:
            list:
              iaddr:
                type: indirect_numeric
                argument:
                  size: 16
                  byte_align: true
              uint64:
                type: numeric
                argument:
                  size: 64
                  byte_align: true
      instructions:
        - "mov2 [@ARG(0)],  ((@ARG(1)&0x000000000000FFFF))"
        - "mov2 [@ARG(0)+2],((@ARG(1)&0x00000000FFFF0000) >> 16)"
        - "mov2 [@ARG(0)+4],((@ARG(1)&0x0000FFFF00000000) >> 32)"
        - "mov2 [@ARG(0)+6],((@ARG(1)&0xFFFF000000000000) >> 48)"
    - operands:
        count: 2
        specific_operands:
          indirect_hl_immediate:
            list:
              indirect_hl_register:
                type: indirect_register
                register: hl
                bytecode:
                  value: 0
                  size: 0
                offset:
                  max: 255
                  min: 0
                  size: 8
                  byte_align: true
              uint64:
                type: numeric
                argument:
                  size: 64
                  byte_align: true
          indirect_sp_immediate:
            list:
              stack_pointer:
                type: indirect_register
                register: sp
                bytecode:
                  value: 1
                  size: 0
                offset:
                  max: 255
                  min: 0
                  size: 8
                  byte_align: true  
              uint64:
                type: numeric
                argument:
                  size: 64
                  byte_align: true
      instructions:
        - "mov2 [@REG(0)+(@ARG(0))+0],((@ARG(1)&0x000000000000FFFF))"
        - "mov2 [@REG(0)+(@ARG(0))+2],((@ARG(1)&0x00000000FFFF0000) >> 16)"
        - "mov2 [@REG(0)+(@ARG(0))+4],((@ARG(1)&0x0000FFFF00000000) >> 32)"
        - "mov2 [@REG(0)+(@ARG(0))+6],((@ARG(1)&0xFFFF000000000000) >> 48)"
    - operands:
        count: 2
        operand_sets:
          list:
            - macro_indirect_registers
            - macro_indirect_registers
      instructions:
        - "mov2 [@REG(0)+(@ARG(0))+0],[@REG(1)+(@ARG(1))+0]"
        - "mov2 [@REG(0)+(@ARG(0))+2],[@REG(1)+(@ARG(1))+2]"
        - "mov2 [@REG(0)+(@ARG(0))+4],[@REG(1)+(@ARG(1))+4]"
        - "mov2 [@REG(0)+(@ARG(0))+6],[@REG(1)+(@ARG(1))+6]"


...
