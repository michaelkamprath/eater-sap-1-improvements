#require "putey-1-beta >= 0.5.0"
#include "kernel.asm"


.org 0 "application_code"
app_init:
    push2 init_str
    call lcd_print_line_cstr
    pop2
    call speech_init
_say_something:
    push2 start_str
    call lcd_print_line_cstr
    pop2
    push2 with_stop_frame_end
    push2 with_stop_frame_start
    call speak_external_buffer
    pop2
    pop2
    push2 end_str
    call lcd_print_line_cstr
    pop2
    hlt




lpc_data_start:
    .byte 0x28,0x88,0xC6,0x55,0x54,0x1D,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    .byte 0x00,0xA0,0x0E,0x45,0x2B,0xAC,0x35,0x41,0x7E,0x6D,0x3D,0x21,0x7D,0xA2,0xE9,0x53
    .byte 0xA8,0x82,0xF2,0xC2,0x66,0xC8,0xBE,0x1A,0x4A,0x07,0x99,0xB1,0xD8,0x68,0x4C,0x19
    .byte 0xE5,0xC6,0x6A,0xAD,0x28,0xA5,0xB4,0x19,0x9B,0x61,0xE7,0x92,0xCA,0x6A,0xAE,0x8A
    .byte 0x5D,0xDB,0x2A,0xB1,0x25,0x48,0x09,0x1D,0x0B,0x8D,0x56,0x21,0xA5,0xA3,0x35,0x10
    .byte 0x5A,0xB8,0xB2,0x8E,0x52,0x8B,0x6C,0x8E,0x92,0xD3,0x47,0x0D,0x89,0x29,0x4B,0x4E
    .byte 0x1F,0x0B,0xA5,0xA6,0x22,0x29,0x74,0xAD,0x94,0x1A,0xAB,0x24,0x97,0x8D,0x42,0x6A
    .byte 0x28,0x82,0xC2,0xD7,0x0B,0xA9,0xBE,0x70,0x8A,0x58,0x0F,0x2C,0xFA,0xC4,0xA5,0xEA
    .byte 0xCC,0x10,0xEB,0x03,0xD7,0xAA,0x55,0x21,0x6C,0x4C,0x8C,0xAB,0x36,0x0C,0xB3,0x29
    .byte 0x31,0xAE,0x3C,0x15,0x4C,0x96,0x48,0xB9,0x72,0x45,0x30,0x59,0x3D,0x97,0xA9,0x66
    .byte 0xA1,0x68,0x93,0xCA,0x26,0x0B,0xC9,0xA2,0x03,0xDA,0x6C,0x33,0xB6,0x8C,0x0E,0x10
    .byte 0x2B,0x4D,0xCD,0x12,0x00,0xA0,0x85,0x26,0xAF,0x08,0x11,0x85,0x16,0x61,0xAA,0xBD
    .byte 0xD8,0x30,0x5A,0x84,0xAE,0xB6,0x20,0xD1,0x64,0x51,0x36,0x3A,0x9A,0x0D,0x93,0x45
    .byte 0xF8,0xE8,0x28,0x31,0x4C,0x16,0x6D,0x62,0xA2,0x2D,0x30,0x59,0x9C,0xF4,0xF6,0xB1
    .byte 0x40,0x24,0x16,0x26,0xDB,0x47,0x0D,0xA1,0x9D,0xD9,0x8E,0x4A,0x27,0x81,0x62,0x03
    .byte 0xCA,0xC3,0xC3,0x26,0x0A,0x0B,0x08,0x35,0x8F,0x58,0xC8,0xC9,0xC0,0x2D,0x4D,0x63
    .byte 0x02,0x00,0x00,0x00,0x00,0x90,0x30,0xE4,0x08,0x68,0x2D,0xC8,0x96,0x98,0x22,0xA1
    .byte 0xA5,0xA0,0x58,0x72,0xF0,0xA2,0x96,0x41,0x62,0x29,0x46,0x82,0x47,0x4A,0x89,0x28
    .byte 0x49,0x4E,0x3B,0x89,0x84,0xA2,0xA8,0x24,0x74,0xC5,0x12,0x0A,0xA3,0xE1,0x88,0x36
    .byte 0x5B,0x80,0xFE,0x18,0x84,0x3B,0x53,0x31,0x12,0x78,0xCC,0xE0,0xB6,0x88,0x68,0x56
    .byte 0xAD,0x02,0x27,0x22,0xA0,0x5D,0xE5,0x2E,0xD8,0x08,0x81,0x76,0x59,0x3B,0xA1,0x3D
    .byte 0x02,0x42,0x45,0x4F,0x83,0xCA,0x58,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
lpc_data_end:

with_stop_frame_start:
    .byte 0x02,0xA8,0x3E,0x53,0x84,0xC5,0x55,0x86,0xBB,0x63,0xE2,0x14,0x93,0x16,0x6E,0xB6
    .byte 0x49,0x51,0x6C,0x68,0x98,0xC5,0x26,0x60,0x36,0x21,0x6E,0x6E,0x9B,0x80,0x49,0xBB
    .byte 0x84,0xBB,0x15,0xD2,0x26,0x6D,0x1A,0x66,0x91,0x48,0x95,0x74,0x68,0x9A,0xC7,0x26
    .byte 0x69,0xB2,0x69,0x11,0x6E,0x9B,0x58,0xD9,0xA4,0x85,0x67,0x1C,0xF4,0x17,0x53,0xEA
    .byte 0xE1,0xB1,0x49,0x90,0x6D,0xA8,0x5B,0xD8,0x22,0x60,0x36,0x61,0x66,0xE1,0x18,0x81
    .byte 0xC5,0xA4,0x85,0x5A,0x6C,0x04,0x16,0xEB,0x9A,0x66,0x91,0x49,0x9C,0x4C,0x4A,0x86
    .byte 0x47,0x46,0x71,0x76,0x21,0x61,0x5E,0x8B,0xBC,0xC5,0xA5,0xA4,0x59,0x6D,0x02,0x47
    .byte 0x17,0x96,0x1A,0x8D,0x09,0x92,0xAD,0x6B,0xAA,0xC7,0x26,0x40,0x34,0xAE,0xA4,0x31
    .byte 0xCE,0xD5,0xA8,0x92,0xB0,0x2E,0x58,0x2D,0xA4,0x6E,0xA2,0xBA,0x64,0x65,0x80,0xB2
    .byte 0x4D,0xE8,0x8B,0xB1,0x16,0xC5,0xCE,0x6D,0xA8,0xAE,0x8E,0x5C,0x1B,0x95,0xA1,0xBA
    .byte 0x5C,0x0E,0x5E,0xD2,0xC6,0xEE,0x7C,0x35,0xB9,0x4D,0x1B,0x7B,0xF0,0xD1,0xA4,0x3A
    .byte 0x6D,0x1C,0xC5,0x8B,0x93,0xEA,0x96,0x79,0x64,0x0F,0x0E,0x69,0x12,0x96,0xEE,0xCD
    .byte 0x31,0xB5,0x8E,0x59,0x9B,0x23,0x93,0xB4,0x39,0x66,0xA9,0x86,0x4D,0xD3,0x1B,0xA5
    .byte 0xB9,0x07,0x71,0x2A,0xAF,0x5D,0xA6,0x91,0xD4,0xA9,0x6C,0x4E,0x99,0x66,0x36,0xC7
    .byte 0xD4,0xA5,0x65,0x9C,0xC5,0x03,0x5D,0x97,0xB6,0x61,0x66,0x35,0x0A,0x5B,0xD2,0x80
    .byte 0x99,0xD4,0x4A,0x3F,0xBC,0x28,0x4F,0x2E,0x49,0xFD,0xB0,0xAC,0x3C,0x39,0x39,0x8D
    .byte 0x33,0x88,0x52,0xD5,0x94,0x30,0x4D,0xCF,0x4A,0x93,0x93,0xC3,0x32,0x03,0x0B,0x4D
    .byte 0x4E,0x76,0xEB,0x70,0xA4,0x32,0x59,0xC6,0x6C,0xCD,0x90,0xD9,0x66,0x18,0x75,0x14
    .byte 0xC9,0x11,0x65,0x51,0xC5,0x91,0x94,0xA6,0xBB,0x27,0x61,0x47,0xD4,0x16,0xAE,0xD6
    .byte 0x86,0x1D,0x41,0xAB,0x87,0x7A,0x12,0x16,0x07,0x6F,0xEE,0x92,0x8D,0xD5,0x92,0xAC
    .byte 0xB8,0x55,0xD4,0x32,0x4B,0x91,0x1A,0x36,0x5E,0xD9,0x2C,0x85,0x4B,0xFA,0x78,0x25
    .byte 0xB7,0x14,0x25,0x61,0x13,0x53,0xDC,0x92,0x35,0x87,0x75,0x4E,0x09,0x4B,0xD5,0x1C
    .byte 0xDA,0x31,0x27,0x2C,0x4D,0x8B,0x4B,0xF9,0x1D,0x17,0x17,0xA9,0xCE,0x9D,0xB7,0xCD
    .byte 0x5E,0x84,0xAB,0xC7,0xB4,0x50,0xC0,0xE4,0xAE,0x02,0xD8,0xAA,0x4C,0x01,0x5B,0xBA
    .byte 0x88,0x74,0xC8,0x30,0x17,0x73,0x4C,0xAE,0xCA,0x4B,0xDD,0x22,0x31,0x8B,0xAB,0x52
    .byte 0x0F,0xCD,0x24,0x4C,0x6C,0x46,0x32,0xC4,0x9D,0xB2,0x3C,0x29,0x77,0x65,0x4F,0xC2
    .byte 0xE6,0x68,0x2D,0x98,0x22,0x09,0x9B,0xA3,0x71,0x57,0x74,0x27,0x6C,0x89,0xC6,0xDC
    .byte 0xC8,0xE3,0x90,0x30,0x69,0x29,0xC5,0x88,0x23,0xC2,0x64,0xB4,0x1C,0xDD,0xB5,0x8B
    .byte 0x72,0xA8,0xC5,0xE0,0x99,0x61,0x29,0x21,0x97,0x4B,0x6E,0xA7,0xA5,0x86,0x18,0x6E
    .byte 0x5E,0x5A,0x96,0x1E,0xBD,0xA8,0x78,0x69,0x5A,0x46,0x54,0xC7,0xB1,0xA6,0x26,0xEA
    .byte 0xDE,0x02,0x47,0x9B,0xAA,0xB0,0x65,0x35,0x2E,0x4B,0x2A,0xE2,0x9E,0xCC,0x35,0x5C
    .byte 0xB1,0x89,0x4B,0x4D,0x36,0x4B,0x3B,0x6E,0x4E,0x26,0x8A,0x43,0x5B,0x9B,0x39,0xD8
    .byte 0x6C,0x4A,0x5F,0x6D,0xF6,0xA8,0x73,0x21,0x6D,0xB5,0xDA,0x83,0xCE,0xC5,0xD0,0xD5
    .byte 0x02,0x0D,0xBE,0x86,0xCC,0xD2,0x88,0xD7,0xFB,0x2E,0x35,0x73,0xC3,0xDE,0x68,0x33
    .byte 0xC2,0xDC,0x36,0x71,0xB3,0x8D,0x70,0x0B,0x2B,0x64,0xCF,0x26,0xDD,0xCD,0xAD,0x92
    .byte 0x3D,0xEB,0xD4,0xF0,0xB0,0x43,0xC0,0x62,0xD3,0xDC,0x35,0x31,0x29,0xB2,0x09,0x09
    .byte 0xD5,0xC8,0xE8,0xCF,0x21,0x24,0xCC,0x63,0xA3,0x27,0x9B,0xD0,0x50,0x4B,0x42,0xAA
    .byte 0x6C,0x53,0x5D,0x3C,0x36,0x3A,0xB3,0x4D,0x75,0x8B,0x38,0x08,0xCC,0xAA,0x24,0xCC
    .byte 0x62,0xA3,0x27,0xEB,0xB0,0x50,0x8B,0x82,0xA2,0x6C,0x53,0x3D,0x2C,0x31,0x2A,0x8A
    .byte 0x6D,0x71,0xB7,0x38,0xA8,0x2C,0x26,0x34,0xCC,0xE2,0xC0,0x03,0xBA,0x0C
with_stop_frame_end:

darth_vader_start:
    .byte 0xff, 0x82, 0x91, 0x55, 0x4c, 0x3c, 0x54, 0xf8
    .byte 0xa4, 0x57, 0x77, 0x08, 0xb1, 0xce, 0x67, 0x26, 0x66, 0x3a, 0x35, 0x93, 0x99, 0xcd, 0xb9, 0x8a
    .byte 0x91, 0x2d, 0xe6, 0x72, 0x7e, 0x5a, 0xac, 0xd6, 0xf5, 0xac, 0x95, 0x51, 0x48, 0xce, 0x4b, 0x6b
    .byte 0x45, 0xd4, 0xab, 0x3b, 0x6e, 0x56, 0xcd, 0xf9, 0x49, 0x13, 0x1c, 0x95, 0xb4, 0x76, 0x5b, 0x43
    .byte 0x26, 0xf1, 0x6d, 0x5d, 0x69, 0x70, 0xf1, 0x3d, 0x5b, 0x25, 0xb9, 0x55, 0x4d, 0x53, 0x9b, 0xd1
    .byte 0x4c, 0x56, 0xf3, 0x9b, 0xe6, 0xf3, 0x4b, 0x96, 0x3c, 0xe6, 0xf9, 0xc4, 0xd5, 0x05, 0x13, 0x35
    .byte 0xbe, 0x75, 0x45, 0x41, 0xbb, 0xc5, 0x6f, 0x5d, 0x51, 0x50, 0x8a, 0xf3, 0x64, 0xc5, 0x96, 0x53
    .byte 0xab, 0x23, 0x49, 0x31, 0x65, 0xdd, 0x2c, 0xa8, 0xb2, 0x3c, 0x47, 0x75, 0xbb, 0x3a, 0xb3, 0x8e
    .byte 0x51, 0xd1, 0x97, 0x04, 0x8c, 0xe4, 0x74, 0x74, 0x6d, 0xba, 0x2a, 0xaa, 0xc2, 0x51, 0xd5, 0xd6
    .byte 0xd5, 0x0e, 0xdb, 0x95, 0xb5, 0x6d, 0x34, 0x43, 0xa9, 0x39, 0x6c, 0xd9, 0x74, 0x71, 0x55, 0x4e
    .byte 0x71, 0x27, 0x65, 0x2b, 0xcc, 0x6f, 0x9c, 0xc9, 0xd7, 0x0b, 0x35, 0x13, 0xe7, 0x54, 0x6d, 0x2c
    .byte 0x4c, 0xd6, 0xf9, 0xd5, 0x9d, 0x25, 0x51, 0x15, 0x3e, 0x75, 0x67, 0x40, 0x5c, 0x4c, 0x6f, 0x9d
    .byte 0x59, 0x6e, 0x12, 0xf5, 0x5c, 0xe7, 0x55, 0x43, 0x15, 0xc4, 0xd7, 0x71, 0xd4, 0x90, 0xe9, 0x91
    .byte 0x12, 0x49, 0x5f, 0x25, 0xca, 0x2b, 0x3c, 0x92, 0x5a, 0x4d, 0x94, 0xe6, 0xce, 0xdb, 0x86, 0x93
    .byte 0x6d, 0x31, 0xb3, 0xc9, 0x00, 0x1c, 0x55, 0x19, 0x28, 0xce, 0xf2, 0x4e, 0x71, 0x34, 0x32, 0x64
    .byte 0xcd, 0x8f, 0x9c, 0x51, 0x0c, 0x59, 0x15, 0x5b, 0xe7, 0x13, 0x43, 0x1d, 0xcd, 0x55, 0x31, 0xc4
    .byte 0xd4, 0xe9, 0x0f, 0x11, 0xc9, 0x71, 0x15, 0xca, 0xab, 0x3c, 0xb3, 0x9c, 0x59, 0xb6, 0xf3, 0x32
    .byte 0x5a, 0xd7, 0x15, 0x4b, 0x14, 0x3d, 0x47, 0x39, 0xc5, 0x50, 0xa7, 0x11, 0x5a, 0x5e, 0x75, 0x33
    .byte 0x2a, 0x65, 0x5d, 0xb3, 0x9d, 0xcc, 0xea, 0x99, 0x77, 0x2c, 0xe7, 0x73, 0x32, 0xa6, 0xd5, 0x49
    .byte 0x35, 0xed, 0x4e, 0x87, 0x75, 0x52, 0x4d, 0x7b, 0x64, 0x20, 0xe4, 0xbd, 0x93, 0x5e, 0xd4, 0xea
    .byte 0x5b, 0x2f, 0x2c, 0xc7, 0x90, 0x34, 0xb6, 0x4c, 0x56, 0xf1, 0xe4, 0x0f, 0x2b, 0xae, 0xf6, 0x4c
    .byte 0x79, 0x03, 0xc3, 0x64, 0x3d, 0x92, 0xde, 0x40, 0xd0, 0xbb, 0x11, 0xa4, 0xb7, 0x70, 0x3c, 0xb6
    .byte 0xc3, 0xd9, 0x2d, 0xdc, 0x0f, 0x2d, 0xac, 0xf6, 0xcb, 0x77, 0x03, 0xcb, 0x6c, 0x3d, 0x72, 0x9d
    .byte 0xc0, 0xf0, 0xda, 0xef, 0xa4, 0xb7, 0x70, 0x3c, 0xb5, 0xb3, 0xdb, 0x29, 0xdc, 0x4f, 0x0b, 0x8f
    .byte 0x15, 0xca, 0x77, 0x04, 0x4a, 0xdb, 0x45, 0xb2, 0x9d, 0x40, 0xf2, 0xb6, 0xcf, 0x64, 0xa7, 0x50
    .byte 0x3c, 0x2d, 0xbc, 0x59, 0x25, 0xdc, 0x53, 0x2a, 0xea, 0xf6, 0x48, 0x77, 0x15, 0x4a, 0x42, 0xc5
    .byte 0xb2, 0x5d, 0xc5, 0x32, 0xae, 0xb1, 0x6b, 0x97, 0x72, 0x54, 0xaa, 0xa3, 0xdf, 0x21, 0xdc, 0x55
    .byte 0x2a, 0xeb, 0x16, 0xb9, 0x77, 0x14, 0xca, 0xc3, 0xcd, 0x92, 0x5d, 0xc0, 0xf2, 0xda, 0xcf, 0x6c
    .byte 0x97, 0x71, 0x44, 0xb4, 0x34, 0x5d, 0x25, 0xe4, 0x4f, 0x0b, 0x4f, 0x16, 0x48, 0x79, 0x25, 0xca
    .byte 0xa2, 0xc4, 0xd0, 0x00, 0x03
darth_vader_end:

init_str:
    .cstr "Init speech lib"
start_str:
    .cstr "Hello World!"
end_str:
    .cstr "completed data"